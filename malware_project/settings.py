# settings.py
# ...
import os # Asegúrate de tener esto al principio del archivo

# ... (cuerpo de settings.py)

# SECURITY WARNING: don't run with debug turned on in production!
# MUY IMPORTANTE: Cambia esto a False en producción!
DEBUG = False 

# La lista básica incluye dominios locales (127.0.0.1 y localhost)
ALLOWED_HOSTS = ['127.0.0.1', 'localhost']

# Intenta obtener el dominio público de Railway
RAILWAY_DOMAIN = os.environ.get('RAILWAY_PUBLIC_DOMAIN')

# Si la variable existe, la añadimos a los hosts permitidos.
# Nota: Railway a veces también usa variables como HOST o RENDER_EXTERNAL_HOSTNAME
# si hubieras usado Render.
if RAILWAY_DOMAIN:
    # Para ser más flexibles con cualquier subdominio de railway.app (más seguro que '*')
    ALLOWED_HOSTS.append(f'.{RAILWAY_DOMAIN.split(".", 1)[-1]}')
    
    # También puedes añadir el dominio específico si prefieres
    ALLOWED_HOSTS.append(RAILWAY_DOMAIN)

# Si usas Render, podrías añadir el comodín de Render, ya que lo tenías antes
ALLOWED_HOSTS.append('.onrender.com')